# ==============================================
#  Azure DevOps Pipeline - Proyecto INTERESTELAR
# ==============================================
# Este pipeline ejecuta tres tareas en paralelo
# usando tres agentes distintos.
# ==============================================

trigger:
- main

# Variables seguras (define myToken y myPassword en Azure DevOps)
variables:
  agentPoolName: 'MySelfHostedPool'      # Nombre del pool de tus agentes
  agentProject: 'INTERESTELAR'           # Nombre del proyecto
  myToken: '$(myToken)'                  # Token seguro (variable secreta)
  myPassword: '$(myPassword)'            # Contrase√±a segura
  myUser: 'sebatianuribe111'             # Usuario de agente remoto

# ==============================================
#  Job 1, 2 y 3 corren en paralelo
# ==============================================
jobs:
- job: BuildProject
  displayName: "üèóÔ∏è Compilar proyecto INTERESTELAR"
  pool:
    name: '$(agentPoolName)'
  steps:
  - script: |
      echo "Iniciando compilaci√≥n en $(Agent.Name)"
      echo "Compilando c√≥digo fuente..."
      sleep 10
      echo "‚úÖ Compilaci√≥n completada."
    displayName: "Compilaci√≥n del c√≥digo"

- job: RunTests
  displayName: "üß™ Ejecutar pruebas autom√°ticas"
  pool:
    name: '$(agentPoolName)'
  steps:
  - script: |
      echo "Ejecutando pruebas en $(Agent.Name)"
      echo "Corriendo tests unitarios..."
      sleep 8
      echo "‚úÖ Pruebas exitosas."
    displayName: "Ejecuci√≥n de pruebas"

- job: DeployApp
  displayName: "üöÄ Desplegar aplicaci√≥n"
  pool:
    name: '$(agentPoolName)'
  steps:
  - script: |
      echo "Desplegando aplicaci√≥n desde $(Agent.Name)"
      echo "Ejecutando tareas de despliegue..."
      sleep 6
      echo " Despliegue completado correctamente."
    displayName: "Despliegue de la aplicaci√≥n"
